#summary Application Development Guide
#labels Featured
(Work in progress...)

*Table of Contents*

<wiki:toc max_depth="1" />

= 1. Introduction =
This guide is for software developers who would like to develop applications for ics-os.
It is assumed in this guide that you have downloaded a copy of the source code for ics-os and has successfully run ics-os on an emulator.

In the ics-os directory you will find two folders relevant to application development,
{{{sdk}}} and {{{contrib}}}.

= 2. Tutorial =
Let us write an application that prompts the user to enter his name and greet the user.

Go to the {{{contrib}}} folder in ics-os.

{{{
$cd contrib
}}}

Inside the directory you will find a folder named {{{hello}}}. Copy this folder to {{{greeter}}}.

{{{
$cp -r hello greeter
}}}

Rename {{{hello.c}}} to {{{greeter.c}}}.

{{{
$cd greeter
$mv hello.c greeter.c
}}}

Replace the main function of {{{greeter.c}}} with the following:

{{{
int main()
{
   char name[30];
   printf("Please enter your name: ");
   gets(name);
   printf("Hello there %s!\n",name);
   return 0;
}
}}}

Replace the contents of {{{Makefile}}} with the following:

{{{
CC=gcc
ICSOS_ROOT=../..
SDK=../../sdk
CFLAGS=-nostdlib -fno-builtin -static
LIBS=$(SDK)/tccsdk.c $(SDK)/libtcc1.c $(SDK)/crt1.c
EXE=greeter.exe

$(EXE): greeter.c
        $(CC) $(CFLAGS) -o${EXE} greeter.c $(LIBS)

install: $(EXE)
        cp $(EXE) $(ICSOS_ROOT)/apps

uninstall:
        rm $(ICSOS_ROOT)/apps/$(EXE)

clean:
        rm $(EXE)
}}}

Build and install the application

{{{
$make
$make install
}}}

Install application in ics-os disk image.
{{{
$cd ../../
#make install
}}}

Run {{{bochs}}}
{{{
$bochs -q
}}}

Below is a screenshot of the application in bochs.


http://ics-os.googlecode.com/svn/trunk/ics-os/greeter.jpg